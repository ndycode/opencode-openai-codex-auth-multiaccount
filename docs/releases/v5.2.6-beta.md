# v5.2.6-beta Release Notes

Date: 2026-02-22

## Improvements

- Added policy-profile defaults (`stable`, `balanced`, `aggressive`) for safer runtime tuning without per-key overconfiguration.
- Added account storage scope controls (`global`, `project`, `worktree`) with adaptive token refresh skew mode.
- Added model-capability sync and reasoning-effort clamping to avoid invalid effort values on capability-constrained models.
- Added route-aware retry policy engine (`retryPolicyMode`) with explicit handling for `tool_unavailable`, `tool_argument`, and `approval_or_policy`.
- Added reroute observability controls (`rerouteNoticeMode`) and safe SSE JSON repair mode (`jsonRepairMode`).
- Added config doctor warnings (`configDoctorMode`) for conflicting legacy/modern plugin settings.
- Added runtime edit-path telemetry in `codex-metrics` (strategy attempts, success ratio, average latency, failure routes).
- Added semantic Codex parity audit automation (`npm run audit:codex:parity`) with generated docs in `docs/audit/`.

## Beta Usage

1. Install beta:

```bash
npm install -g oc-chatgpt-multi-auth@beta
```

2. Recommended defaults are already active (`policyProfile=stable`, `hashlineBridgeHintsMode=auto`, `toolArgumentRecoveryMode=safe`).

3. Optional advanced tuning:

```bash
CODEX_AUTH_POLICY_PROFILE=balanced
CODEX_AUTH_REQUEST_TRANSFORM_MODE=legacy
CODEX_AUTH_HASHLINE_HINTS_MODE=auto
CODEX_AUTH_TOOL_ARGUMENT_RECOVERY_MODE=schema-safe
CODEX_AUTH_RETRY_POLICY_MODE=route-matrix
CODEX_AUTH_REROUTE_NOTICE_MODE=log+ui
CODEX_AUTH_JSON_REPAIR_MODE=safe
CODEX_AUTH_CONFIG_DOCTOR_MODE=warn
```

4. Verify logs/markers:
- `tool_argument_recovery`
- `tool_unavailable_recovery`
- `runtime_tool_alias_compat`
- `Model reroute observed`

5. Roll back to stable:

```bash
npm install -g oc-chatgpt-multi-auth@latest
```

## Chores

- Validation: `npm run audit:codex:parity`
- Validation: `npm run typecheck`
- Validation: `npm run lint`
- Validation: `npm test`
- Validation: `npm run coverage`
- Validation: `npm run build`

## Changelog

Full Changelog: https://github.com/ndycode/oc-chatgpt-multi-auth/compare/v5.2.5-beta...v5.2.6-beta

